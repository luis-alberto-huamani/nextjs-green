{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport './body.scss';\nimport StepsPost from './steps';\nimport Step1 from './step-1';\nimport Step2 from './step-2';\nimport Step3 from './step-3';\nimport Button from '../buttons/button';\nimport Spinner from '../spinner/spinner';\nimport Greetings from './greeting';\nimport Router from 'next/router';\n\nvar BodyPost =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BodyPost, _Component);\n\n  function BodyPost(props) {\n    var _this;\n\n    _classCallCheck(this, BodyPost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BodyPost).call(this, props));\n    _this.state = {\n      index: 1,\n      step1: true,\n      step1Out: false,\n      perfilPic: null,\n      name: '',\n      lastName: '',\n      history: '',\n      birthday: '',\n      interest: '',\n      step2: false,\n      step2Out: false,\n      frontPic: null,\n      frontQuote: '',\n      step3: false,\n      spinner: false,\n      greetings: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleFile = _this.handleFile.bind(_assertThisInitialized(_this));\n    _this.onNext = _this.onNext.bind(_assertThisInitialized(_this));\n    _this.onCancel = _this.onCancel.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BodyPost, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.id, e.target.value));\n    }\n  }, {\n    key: \"handleFile\",\n    value: function handleFile(e) {\n      var _this2 = this;\n\n      var element = e.target.id;\n      var img = e.target.files[0];\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        _this2.setState(_defineProperty({}, element, reader.result));\n      };\n\n      if (img) {\n        reader.readAsDataURL(img);\n      } else {\n        this.setState(_defineProperty({}, e.target.id, null));\n      }\n    }\n  }, {\n    key: \"onNext\",\n    value: function onNext() {\n      var _this3 = this;\n\n      var index = this.state.index;\n\n      if (index >= 3) {\n        this.setState({\n          index: 2\n        });\n      } else {\n        this.setState({\n          index: index + 1\n        });\n      }\n\n      if (index === 1) {\n        this.setState({\n          step1Out: true\n        });\n        setTimeout(function () {\n          _this3.setState({\n            step1: false,\n            step2: true\n          });\n        }, 300);\n      }\n\n      if (index === 2) {\n        this.setState({\n          step2Out: true\n        });\n        setTimeout(function () {\n          _this3.setState({\n            step2: false,\n            step3: true\n          });\n        }, 300);\n      }\n    }\n  }, {\n    key: \"onCancel\",\n    value: function onCancel() {\n      this.setState({\n        step1: true,\n        step1Out: false,\n        perfilPic: null,\n        name: '',\n        lastName: '',\n        history: '',\n        birthday: '',\n        interest: '',\n        step2Out: false,\n        frontPic: null,\n        frontQuote: '',\n        step3: false\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          perfilPic = _this$state.perfilPic,\n          name = _this$state.name,\n          lastName = _this$state.lastName,\n          history = _this$state.history,\n          birthday = _this$state.birthday,\n          interest = _this$state.interest,\n          frontPic = _this$state.frontPic,\n          frontQuote = _this$state.frontQuote;\n      var id = this.props.id;\n      var data = {\n        id: id,\n        name: name,\n        lastName: lastName,\n        perfilImg: perfilPic,\n        history: history,\n        birthday: birthday,\n        interest: interest,\n        frontPageImg: frontPic,\n        frontPageQuote: frontQuote\n      };\n      var options = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: _JSON$stringify(data)\n      };\n      this.setState({\n        step3: false,\n        spinner: true\n      });\n      fetch('/api/postregistro.js', options).then(function (res) {\n        if (res.status === 201) {\n          _this4.setState({\n            spinner: false,\n            greetings: true\n          });\n\n          res.json().then(function (res) {\n            setTimeout(function () {\n              Router.push(\"/perfil?id=\".concat(id));\n            }, 2000);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          index = _this$state2.index,\n          greetings = _this$state2.greetings,\n          step1 = _this$state2.step1,\n          step1Out = _this$state2.step1Out,\n          perfilPic = _this$state2.perfilPic,\n          name = _this$state2.name,\n          lastName = _this$state2.lastName,\n          history = _this$state2.history,\n          birthday = _this$state2.birthday,\n          interest = _this$state2.interest,\n          step2 = _this$state2.step2,\n          step2Out = _this$state2.step2Out,\n          frontPic = _this$state2.frontPic,\n          frontQuote = _this$state2.frontQuote,\n          step3 = _this$state2.step3,\n          spinner = _this$state2.spinner;\n      var valuesStep1 = {\n        perfilPic: perfilPic,\n        name: name,\n        lastName: lastName,\n        history: history,\n        birthday: birthday,\n        interest: interest\n      };\n      var valuesStep2 = {\n        frontPic: frontPic,\n        frontQuote: frontQuote\n      };\n      var user = {\n        perfilImg: perfilPic,\n        name: name,\n        lastName: lastName,\n        history: history,\n        birthday: birthday,\n        interest: interest,\n        frontPageImg: frontPic,\n        frontPageQuote: frontQuote\n      };\n      return React.createElement(\"section\", {\n        className: \"postregistro_body_cont\"\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\"\n      }, greetings && React.createElement(Greetings, null), !spinner && !greetings && React.createElement(StepsPost, {\n        index: index\n      }), step1 && React.createElement(Step1, _defineProperty({\n        out: step1Out,\n        onChange: this.handleChange,\n        onNext: this.onNext,\n        onFile: this.handleFile,\n        values: valuesStep1\n      }, \"onNext\", this.onNext)), step2 && React.createElement(Step2, {\n        out: step2Out,\n        onChange: this.handleChange,\n        onFile: this.handleFile,\n        values: valuesStep2\n      }), step3 && React.createElement(Step3, {\n        user: user\n      })), spinner && React.createElement(\"div\", {\n        style: {\n          marginTop: \"20vh\"\n        }\n      }, React.createElement(Spinner, null)), !spinner && !greetings && React.createElement(\"div\", {\n        className: \"footer\"\n      }, step3 ? React.createElement(React.Fragment, null, React.createElement(Button, {\n        onClick: this.onCancel,\n        color: \"dark\",\n        size: \"md\"\n      }, \"Cancelar\"), React.createElement(Button, {\n        onClick: this.onSubmit,\n        color: \"dark\",\n        size: \"md\"\n      }, \"Confirmar\")) : React.createElement(Button, {\n        onClick: this.onNext,\n        color: \"light\",\n        size: \"md\"\n      }, \"Siguiente\")));\n    }\n  }]);\n\n  return BodyPost;\n}(Component);\n\nexport default BodyPost;","map":{"version":3,"sources":["/media/felix/projects/green/components/postregistro/body.jsx"],"names":["React","Component","StepsPost","Step1","Step2","Step3","Button","Spinner","Greetings","Router","BodyPost","props","state","index","step1","step1Out","perfilPic","name","lastName","history","birthday","interest","step2","step2Out","frontPic","frontQuote","step3","spinner","greetings","handleChange","bind","handleFile","onNext","onCancel","onSubmit","e","setState","target","id","value","element","img","files","reader","FileReader","onloadend","result","readAsDataURL","setTimeout","data","perfilImg","frontPageImg","frontPageQuote","options","headers","method","body","fetch","then","res","status","json","push","valuesStep1","valuesStep2","user","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './body.scss';\nimport StepsPost from './steps';\nimport Step1 from './step-1';\nimport Step2 from './step-2';\nimport Step3 from './step-3';\nimport Button from '../buttons/button';\nimport Spinner from '../spinner/spinner';\nimport Greetings from './greeting';\nimport Router from 'next/router';\n\nclass BodyPost extends Component{\n  constructor(props){\n    super(props);\n    this.state= {\n      index: 1,\n      step1: true,\n      step1Out: false,\n      perfilPic: null,\n      name: '',\n      lastName: '',\n      history: '',\n      birthday: '',\n      interest: '',\n      step2: false,\n      step2Out: false,\n      frontPic: null,\n      frontQuote: '',\n      step3: false,\n      spinner: false,\n      greetings: false,\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleFile = this.handleFile.bind(this);\n    this.onNext = this.onNext.bind(this);\n    this.onCancel = this.onCancel.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({ [e.target.id]: e.target.value });\n  }\n\n  handleFile(e) {\n    const element = e.target.id;\n    const img = e.target.files[0];\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      this.setState({ [element]: reader.result });\n    }\n    if(img) {\n      reader.readAsDataURL(img);\n    } else {\n      this.setState({ [e.target.id]: null });\n    }\n  }\n\n  onNext() {\n    const { index } = this.state;\n    if(index >= 3) {\n      this.setState({ index: 2 })\n    } else {\n      this.setState({ index: index + 1 })\n    }\n    if(index === 1) {\n      this.setState({ step1Out: true });\n      setTimeout(()=>{\n        this.setState({ step1: false, step2: true });\n      },300)\n    }\n    if(index === 2) {\n      this.setState({ step2Out: true });\n      setTimeout(()=>{\n        this.setState({ step2: false, step3: true });\n      },300)\n    }\n  }\n\n  onCancel() {\n    this.setState({\n      step1: true,\n      step1Out: false,\n      perfilPic: null,\n      name: '',\n      lastName: '',\n      history: '',\n      birthday: '',\n      interest: '',\n      step2Out: false,\n      frontPic: null,\n      frontQuote: '',\n      step3: false,\n    })\n  }\n\n  onSubmit() {\n    const {\n      perfilPic,\n      name,\n      lastName,\n      history,\n      birthday,\n      interest,\n      frontPic,\n      frontQuote,\n    } = this.state;\n    const { id } = this.props;\n    const data = {\n      id,\n      name,\n      lastName,\n      perfilImg: perfilPic,\n      history,\n      birthday,\n      interest,\n      frontPageImg: frontPic,\n      frontPageQuote: frontQuote,\n    };\n    const options = {\n      headers: { \"Content-Type\": \"application/json\" },\n      method: \"POST\",\n      body: JSON.stringify(data)\n    }\n    this.setState({ step3: false, spinner: true });\n    fetch('/api/postregistro.js', options)\n      .then(res => {\n        if (res.status === 201) {\n          this.setState({ spinner: false, greetings: true });\n          res.json()\n            .then((res) => {\n              setTimeout(()=>{\n                Router.push(`/perfil?id=${id}`)\n              },2000)\n            })\n        }\n      })\n  };\n\n\n  render() {\n    const {\n      index,\n      greetings,\n      step1,\n      step1Out,\n      perfilPic,\n      name,\n      lastName,\n      history,\n      birthday,\n      interest,\n      step2,\n      step2Out,\n      frontPic,\n      frontQuote,\n      step3,\n      spinner,\n    } = this.state;\n    const valuesStep1 = {\n      perfilPic,\n      name,\n      lastName,\n      history,\n      birthday,\n      interest,\n    }\n    const valuesStep2 = {\n      frontPic,\n      frontQuote,\n    };\n    const user = {\n      perfilImg: perfilPic,\n      name,\n      lastName,\n      history,\n      birthday,\n      interest,\n      frontPageImg: frontPic,\n      frontPageQuote: frontQuote,\n    };\n    return(\n      <section className=\"postregistro_body_cont\">\n        <div className=\"container-fluid\">\n          {\n            greetings && <Greetings />\n          }\n          {\n            !spinner && !greetings && <StepsPost index={index} />\n          }\n          {\n            step1 && (\n              <Step1\n                out={step1Out}\n                onChange={this.handleChange}\n                onNext={this.onNext}\n                onFile={this.handleFile}\n                values= {valuesStep1}\n                onNext={this.onNext}\n            />\n          )\n          }\n          {\n            step2 && (\n              <Step2\n                out={step2Out}\n                onChange={this.handleChange}\n                onFile={this.handleFile}\n                values={valuesStep2}\n              />\n            )\n          }\n          {\n            step3 && (\n              <Step3\n                user={user}\n              />\n            )\n          }\n        </div>\n          {\n            spinner && <div style={{marginTop:\"20vh\"}}><Spinner /></div>\n          }\n          {\n            !spinner && !greetings && (\n              <div className=\"footer\">\n              {\n                step3 \n                ?(\n                  <>\n                    <Button onClick={this.onCancel} color=\"dark\" size=\"md\">Cancelar</Button>\n                    <Button onClick={this.onSubmit} color=\"dark\" size=\"md\">Confirmar</Button>\n                  </>\n                )\n                :<Button onClick={this.onNext} color=\"light\" size=\"md\">Siguiente</Button>\n              }\n            </div>\n            )\n          }\n      </section>\n    );\n  }\n}\n\nexport default BodyPost;\n"]},"metadata":{},"sourceType":"module"}